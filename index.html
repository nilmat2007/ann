<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, viewport-fit=cover" />
    <title>ระบบบันทึกและแชร์ Flex Message</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="flexhtml.js"></script>
    <link rel="stylesheet" href="flexhtml.css">
    <link rel="icon" href="https://th.bing.com/th/id/OIG4.QbUR8N98pPSmXzzUykuK?dpr=3&pid=ImgDetMain" type="image/x-icon">
    <style>
        :root {
            --primary-color: #00B900;
            --secondary-color: #4a4a4a;
            --bg-color: #f8f9fa;
            --text-color: #333;
            --border-radius: 10px;
        }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Helvetica Neue', Arial, sans-serif;
        }
        
        .card {
            border-radius: var(--border-radius);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .btn-primary:hover {
            background-color: #009900;
            border-color: #009900;
        }
        
        #login-sec {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        #flex-show {
            background-image: url('./line-bg.jpg');
            background-size: cover;
            border-radius: var(--border-radius);
            min-height: 300px;
        }
        
        #json {
            border-radius: var(--border-radius);
            resize: vertical;
        }
        
        .modal-content {
            border-radius: var(--border-radius);
        }
        
        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="loader" class="position-fixed top-0 start-0 w-100 h-100 d-flex justify-content-center align-items-center bg-white">
        <div class="loader"></div>
    </div>

    <section id="login-sec" class="container">
        <div class="card shadow-lg" style="display: none;">
            <div class="card-body text-center p-5">
                <h2 class="mb-4">เข้าสู่ระบบ</h2>
                <p class="text-muted mb-4">กรุณาเข้าสู่ระบบด้วย LINE เพื่อใช้งาน</p>
                <button class="btn btn-success btn-lg" id="login-btn">
                    <i class="bi bi-line me-2"></i>เข้าสู่ระบบด้วย LINE
                </button>
            </div>
        </div>
    </section>

    <section id="input-sec" class="container my-5" style="display: none;">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="card shadow-sm mb-4">
                    <div class="card-body">
                        <h2 class="card-title mb-4">สวัสดี <span id="displayName" class="text-primary"></span></h2>
                        <img id="display-img" class="rounded-circle mb-3" style="width: 60px;" alt="Profile Picture">
                        
                        <div class="mb-3">
                            <label for="altText" class="form-label">ข้อความแสดงแทน FLEX หน้าแชท</label>
                            <input type="text" class="form-control" id="altText" maxlength="400">
                            <small id="text-count" class="form-text text-muted">(0/400)</small>
                        </div>
                        
                        <div class="mb-3">
                            <label for="json" class="form-label">JSON</label>
                            <div class="d-flex justify-content-end mb-2">
                                <a href="https://developers.line.biz/flex-simulator/" target="_blank" class="btn btn-outline-primary btn-sm">
                                    <i class="bi bi-window-fullscreen me-1"></i>ออกแบบ Flex
                                </a>
                            </div>
                            <textarea id="json" class="form-control" rows="15"></textarea>
                        </div>
                        
                        <div class="d-flex justify-content-between">
                            <button id="save" class="btn btn-primary">
                                <i class="bi bi-save me-1"></i>บันทึก
                            </button>
                            <button id="shared" class="btn btn-success">
                                <i class="bi bi-share me-1"></i>แชร์ไปห้องแชทอื่น
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title mb-3">ตัวอย่าง Flex Message</h5>
                        <div id="flex-show" class="p-3 bg-light">
                            <p class="text-muted text-center my-5">พื้นที่แสดงตัวอย่าง Flex จะปรากฏที่นี่</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
  <div class="modal fade" id="previewModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="previewModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header d-flex justify-content-between">
          <h5 class="modal-title " id="previewModalLabel">Flex Preview</h5>
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
        </div>
        <div class="modal-body"
          style="background-color: #849ebf;background-image: url(./line\ bg.jpg);background-size: contain;">
          <div class="reset-this container-fluid">
            <div id="flex1"></div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-info" id="json-copy">Copy</button>
          <button type="button" class="btn btn-warning" id="json-update">Update <span class="hide"
              id="update-id"></span></button>
        </div>
      </div>
    </div>
  </div>
  <section>
    <div class="container mb-5">
      <div class="col-md-4 listtemplate mt-2 hide">
        <div class="btn-group d-flex">
          <button type="button" class="btn btn-outline-info text-dark fw-bold btn-head col-12"></button>
          <button type="button" class="btn btn-primary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown"
            aria-expanded="false">
            <span class="visually-hidden">Toggle Dropdown</span>
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
            <!-- <li class="m-1"><a class="btn btn-warning send-flex w-100">ส่งในห้องแชทนี้</a></li> -->
            <li class="m-1"><a class="btn btn-success shared-flex w-100">แชร์ไปห้องแชทอื่น</a></li>
            <li class="m-1"><a class="btn btn-secondary show-json w-100">ดู JSON</a></li>
            <li class="m-1"><a class="btn btn-warning share-link w-100">คัดลอกลิ้งค์แชร์</a></li>
            <li class="m-1"><a class="btn btn-danger delete-list w-100">ลบ</a></li>
          </ul>
        </div>
      </div>
      <div id="flexlist" class="row justify-content-start mt-3">

      </div>
    </div>
  </section>
  <!-- <script src="https://unpkg.com/vconsole@latest/dist/vconsole.min.js"></script>

    <script>

        // VConsole will be exported to `window.VConsole` by default.

        // var vConsole = new window.VConsole();

    </script> -->
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <script>
    var Toast
    $(document).ready(() => {
      // $.LoadingOverlay("show");
      Toast = Swal.mixin({
        toast: true,
        position: 'top-end',
        showConfirmButton: false,
        timer: 1500,
        timerProgressBar: true,
      })
      main()
      // flex2html('testflex', JSON.parse(testflex))
    })
    function copy(id = 'json-code') {
      let $temp = $('<input>')
      $('body').append($temp)
      let element = document.getElementById(id)
      element.select()
      element.setSelectionRange(0, 99999)
      navigator.clipboard.writeText(element.value).then(() => {
        $temp.remove()
        Toast.fire({
          icon: 'success',
          title: 'คัดลอกเรียบร้อย'
        })
      }, () => {
        $temp.remove()
        Toast.fire({
          icon: 'error',
          title: 'คัดลอกล้มเหลว'
        })
      })

    }
  </script>
  <script>
    const EXPIRE_USERS = [
      'U026ec80e42049561bd41cf92d4c55955',
      'U5fb67c286549e2eec9ff7f67e9c15690',
      'Ud2256fed03eacac0ed0d5d679ebdacde',
      'U0f88770ee60bc3b9ec52f9a95179d191',
      'Ue86787127a9bb5465c58d3932ed06bbb'
    ]
    var profile, flexlist, flexid = undefined
    var scripturl = 'https://script.google.com/macros/s/AKfycbzDrVrPPTbKHKTySkUHxwc2DclT8-tZvzRi8abRYyhDgT98YQTlpE9DsZ3jtNeg1xIO/exec'
    var starttime = new Date().getTime()
    async function main() {
      liff.init({
        liffId: '2005615503-Gxyb3Yw9', withLoginOnExternalBrowser: true
      });

      liff.ready.then(async () => {
        // if loader show less than 3 sec then wait 3 sec
        let endtime = new Date().getTime()
        let waittime = 3000 - (endtime - starttime)
        if (waittime > 0) {
          await new Promise(resolve => setTimeout(resolve, waittime))
        }

        console.log('liff ready')
        if (liff.isLoggedIn()) {
          if (EXPIRE_USERS.includes(liff.getDecodedIDToken().sub)) {
            $('section').remove()
            $('.modal').remove()
            Swal.fire({
              icon: 'error',
              title: 'การทดลองใช้งานหมดอายุ',
              html: 'กรุณาติดต่อผู้พัฒนาเพื่อใช้งานเวอร์ชั่นเต็ม<br>Line ID: <a href="https://line.me/ti/p/FrAUVjmBeJ" target="_blank">wmhakrook</a><br>หรือ โทร <a href="tel:0904017402">090-401-7402</a><br>ขอบคุณครับ',
              allowOutsideClick: false,
              showConfirmButton: true,
              confirmButtonText: 'ปิดหน้านี้',
            }).then(() => {
              liff.closeWindow()
            })
          }
          var parameter = new URLSearchParams(window.location.search)
          flexid = parameter.get('s')
          if (flexid) {
            $.post(scripturl, {
              q: 'getflex',
              id: parameter.get('s')
            }).done(function (result) {
              
              if (result.flex) {
                $('#loader').hide()
                $('#json').val(JSON.stringify(JSON.parse(result.flex), undefined, 4))
                $('#altText').val(result.altText)
                $('#shared').click()
              } else {
                $('section').remove()
                $('.modal').remove()
                $('#loader').hide()
                Swal.fire({
                  icon: 'error',
                  title: 'เกิดข้อผิดพลาด',
                  text: 'ไม่พบข้อมูล Flex ที่คุณต้องการ',
                  allowOutsideClick: false,
                  showConfirmButton: true,
                  confirmButtonText: 'ปิดหน้านี้',
                }).then(() => {
                  liff.closeWindow()
                })
              }
            })
          } else {
            flexid = undefined
            $('#loader').hide()
            $('#login-sec').removeClass('d-flex').hide();
            $('#input-sec').slideDown(200);
            let context = await liff.getContext()
            if (context.type == 'square_chat') {
              profile = { displayName: 'openchat', userId: context.squareMemberId, isSquare: true }
            } else profile = await liff.getProfile();
            $('#displayName').html(profile.displayName);
            $('#display-img').attr('src', profile.pictureUrl);
            if (liff.isInClient() || liff.getContext().type === 'square_chat') {
              $('#send').slideDown(200);
            }
            getFlex()
          }
        }
        else {
          $('#loader').hide()
          $('#login-sec div').slideDown(200);
          $('#login-btn').click(function () {
            liff.login({ redirectUri: window.location.href });
          })
        }
      })


    }
    // getFlex()
  </script>
  <script>
    $('#altText').on('input', function () {
      let text = $(this).val()
      $('#text-count').text(`(${text.length}/400)`)
    })
    $('#json').on('input', function () {
      if ($(this).val() == '') {
        $('#flex-show').html('<div class="text-light w-100 text-center my-3">พื้นที่แสดงตัวอย่าง Flex จะปรากฏที่นี่</div>')
        return false
      }
      let json = getJSON(true)
      if (json) {
        $('#flex-show').html('')
        flex2html('flex-show', json)
        // get action from json tree
        // let actions = getAction(json)
      } else {
        $('#flex-show').html(`<div style="color: white; font-size: 1rem; text-align: center; padding-top: 20px">
                        Invalid JSON
                    </div>`)
      }
    })
    $('#preview').click(function () {
      let flex = getJSON()
      if (flex) {
        $('#flex1').html('');
        flex2html("flex1", flex);
        $('.modal').modal('show');
      }
    })
    $('#shared').click(function () {
      var flex = getJSON()
      if (flex) {
        if (JSON.stringify(flex).indexOf('{{share}}') > -1 && !flexid) {
          Swal.fire({
            icon: 'error',
            title: 'หากกำหนดให้มีคีย์เวิร์ด share คุณจำเป็นที่จะต้องบันทึก Flex นี้ก่อนการแชร์',
          })
          return false
        }
        sendShare(flex);
      }
    })
    $('#send').click(function () {
      var flex = getJSON()
      if (flex) {
        if (JSON.stringify(flex).indexOf('{{share}}') > -1 && !flexid) {
          Swal.fire({
            icon: 'error',
            title: 'หากกำหนดให้มีคีย์เวิร์ด share คุณจำเป็นที่จะต้องบันทึก Flex นี้ก่อนการแชร์',
          })
          return false
        }
        sendInChat(flex);
      }
    })
    $('#save').click(function () {
      let flex = getJSON()
      if (flex) {
        Swal.fire({
          title: 'กรุณาใส่ชื่อ FLEX',
          input: 'text',
          inputAttributes: {
            autocapitalize: 'off'
          },
          showCancelButton: true,
          confirmButtonText: 'Save',
          showLoaderOnConfirm: true,
          preConfirm: (templateName) => {
            return $.post(scripturl, {
              q: 'put',
              isSquare: profile.isSquare,
              name: templateName,
              flex: JSON.stringify(flex),
              uid: profile.userId,
              liff_id: liff.id
            })
          },
          allowOutsideClick: () => !Swal.isLoading()
        }).then((output) => {
          if (output.value.result == 'duplicate') {
            return Swal.fire({
              icon: 'warning',
              title: 'Oops...',
              text: 'ชื่อซ้ำ',
              showConfirmButton: false,
              timer: 1500
            })
          }
          let item = output.value.data
          let row = $('.listtemplate').clone()
          $(row).removeClass('hide listtemplate')
          $(row).attr('id', item[0])
          $(row).find('.btn-head').text(item[1])
          $(row).find('.show-preview').append(`<p style="display: none">${item[2]}</p>`);
          $(row).find('.delete-list').attr('id', item[0])
          $(row).find('.show-json').append(`<p style="display: none">${item[2]}</p>`);
          $(row).find('.share-link').attr('data-clipboard-text', 'https://liff.line.me/' + liff.getContext().liffId + '?s=' + item[0])
          $('#json').val(JSON.stringify(JSON.parse(item[2]), undefined, 4))
          $('#flexlist').append(row)
          setButtonEventListener()
          Swal.fire({
            icon: 'success',
            title: 'บันทึกเรียบร้อย',
            showConfirmButton: false,
            timer: 1500
          })
        })
      }
    })
    function update(id) {
      let flex
      try {
        flex = JSON.parse($('#flex1').find('textarea').val())
      } catch (error) {
        console.log(error)
        Swal.fire({
          icon: 'error',
          title: 'Oops...',
          text: 'Invalid JSON'
        })
        return false
      }
      if (flex) {
        Swal.fire({
          icon: 'info',
          title: 'กำลังอัพเดท JSON...',
          text: 'กรุณารอสักครู่',
          allowOutsideClick: false,
        })
        Swal.showLoading(Swal.getConfirmButton());
        $.post(scripturl, {
          q: 'update',
          isSquare: profile.isSquare,
          id: id,
          flex: JSON.stringify(flex),
          uid: liff.getDecodedIDToken().sub,
          liff_id: liff.id
        }, function (output) {
          if (output.status == 200) {
            let delbtn = $(`#${id}`)
            $(delbtn).closest('ul').find('.show-preview p').html(JSON.stringify(flex));
            $(delbtn).closest('ul').find('.show-json p').html(JSON.stringify(flex));
            $('#json').val(JSON.stringify(flex, undefined, 4)).change()
            setButtonEventListener()
            Swal.fire({
              icon: 'success',
              title: 'อัพเดทเรียบร้อย',
              showConfirmButton: false,
              timer: 1500
            })
          } else {
            Swal.fire({
              icon: 'error',
              title: 'อัพเดทไม่สำเร็จ',
              text: output.error,
              showConfirmButton: false,
              timer: 1500
            })
          }
        })
      }
    }
    function getFlex() {
      $('#flexlist').LoadingOverlay("show");
      let uid = profile.userId;
      
      $.post(scripturl, {
        q: 'get',
        isSquare: profile.isSquare,
        uid: uid
      }).done(function (result) {
        $('#flexlist').LoadingOverlay("hide");
        if (result.status != 200) {
          return true
        }
        flexlist = result.data
        
        if (flexlist.length > 0) {

          $('#flexlist').html('');

          flexlist.forEach(function (item, index) {
            

            let row = $('.listtemplate').clone()

            $(row).removeClass('hide listtemplate')

            $(row).find('.btn-head').text(item.name)

            $(row).find('.show-preview').append(`<p style="display: none">${item.flex}</p>`);

            $(row).find('.delete-list').attr('id', item.flex_id)

            $(row).find('.show-json').append(`<p style="display: none">${item.flex}</p>`);
            $(row).find('.share-link').attr('data-clipboard-text', 'https://liff.line.me/' + liff.id + '?s=' + item.flex_id)
            $('#flexlist').append(row)

          })

        } else {

          $('#flexlist').css('height', '100%')

        }

        setButtonEventListener()

      })
    }
    function getJSON(noerror = false) {
      let json = $('#json').val()

      try {
        json = JSON.parse($('#json').val())
      } catch (error) {
        if (!noerror) {
          Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'Invalid JSON'
          })
        }
        return false
      }
      let flex
      if (json.type != 'flex') {
        let altText = $('#altText').val()
        if (altText == '') altText = 'FLEX MESSAGE'
        flex = {
          type: 'flex',
          altText: $('#altText').val(),
          contents: json
        }
      } else {
        flex = json
      }
      return flex
    }

    // function getAction(json) {
    //     Object.keys(json).forEach(function (key) {
    //         if (key == 'action') {
    //             
    //         } else if (typeof json[key] === 'object') {
    //             getAction(json[key])
    //         }
    //     })
    // }

    async function sendShare(flex) {
      const result = await liff.shareTargetPicker([flex]);
      if (result) {
        Swal.fire({
          icon: 'success',
          title: 'ส่งข้อความสำเร็จ',
          showConfirmButton: false,
          timer: 1500
        })
        if (flexid) {
          liff.closeWindow()
        }
      } else {
        const [majorVer, minorVer, patchVer] = (
          liff.getLineVersion() || ''
        ).split('.');
        if (minorVer === undefined) {
          console.log('ShareTargetPicker was canceled in external browser');
          if (flexid) {
            liff.closeWindow()
          }
          return;
        }
        if (
          parseInt(majorVer) >= 10 &&
          parseInt(minorVer) >= 10 &&
          parseInt(patchVer) > 0
        ) {
          console.log('ShareTargetPicker was canceled in LINE app');
          if (flexid) {
            liff.closeWindow()
          }
        }
      }
    }
    async function sendInChat(flex) {
      liff.sendMessages([flex])
        .then(() => {
          Swal.fire({
            icon: 'success',
            title: 'ส่งข้อความสำเร็จ',
            showConfirmButton: false,
            timer: 1500
          }).then(() => {
            if (flexid) {
              liff.closeWindow()
            }
          })
        })
        .catch((err) => {
          console.log("error", err);
          Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'ไม่สามารถส่งข้อความได้'
          })
        });
    }
    function setButtonEventListener() {
      $('.btn-head').off('click').click(function () {
        let json = $(this).parent().find('ul').find('.show-json p').text()
        $('#json').val(JSON.stringify(JSON.parse(json), undefined, 4))
        setTimeout(() => {
          $('#json').trigger('input')
        }, 200);
        $('#altText').val($(this).text())
        $('#flex-show').html('')
        // flex2html('flex-show', JSON.parse(json))
      })
      $('.show-preview').off('click').click(function () {
        $('#flex1').html('');
        let json = JSON.parse($(this).find('p').text())
        $('#json').val(JSON.stringify(json, undefined, 4))
        setTimeout(() => {
          $('#json').trigger('input')
          setTimeout(() => {
            $('#json').val('')
          }, 200);
        }, 200);
        $('#json-update').hide()
        $('#json-copy').hide()
        $('.modal').modal('show');
      })
      $('.show-json').off('click').click(function () {
        $('#json-update').show()
        $('#json-copy').show()
        $('#flex1').html(`<div><textarea id="json-code" class="p-2 form-control bg-white" rows="20">${JSON.stringify(JSON.parse($(this).find('p').text()), undefined, 4)
          }</textarea></div>`);
        $('#json-copy').off('click').click(function () {
          copy()
        })
        let showjsonbtn = $(this)
        $('#json-update').off('click').click(function () {

          update(showjsonbtn.closest('ul').find('.delete-list').attr('id'))
        })
        $('.modal').modal('show');
      })
      $('.delete-list').off('click').click(function () {
        let button = $(this)
        Swal.fire({
          title: 'คุณต้องการลบรายการนี้ใช่หรือไม่?',
          text: "การลบรายการนี้จะไม่สามารถกู้คืนได้",
          icon: 'warning',
          showCancelButton: true,
          confirmButtonColor: '#3085d6',
          cancelButtonColor: '#d33',
          confirmButtonText: 'ลบรายการนี้',
          cancelButtonText: 'ยกเลิก'
        }).then((result) => {
          if (result.value) {
            Swal.fire({
              title: 'กำลังลบรายการ',
              text: 'กรุณารอสักครู่',
              allowOutsideClick: false,
            })
            Swal.showLoading(Swal.getConfirmButton())
            $.post(scripturl, {
              q: 'delete',
              id: $(this).attr('id')
            }, function (result) {
              if (result.result == 200) {
                Swal.fire({
                  icon: 'success',
                  title: 'ลบรายการสำเร็จ',
                  showConfirmButton: false,
                  timer: 1500
                })
                $(button).closest('.col-md-4').remove()
              } else {
                Swal.fire({
                  icon: 'error',
                  title: 'ลบรายการไม่สำเร็จ',
                  showConfirmButton: false,
                  timer: 1500
                })
              }
            })
          }
        })
      })

      $('.share-link').off('click').click(function () {
        let $temp = $('<input>')
        $('body').append($temp)
        navigator.clipboard.writeText($(this).attr('data-clipboard-text')).then(() => {
          $temp.remove()
          Toast.fire({
            icon: 'success',
            title: 'คัดลอกลิ้งค์แชร์เรียบร้อย'
          })
        }, () => {
          $temp.remove()
          Toast.fire({
            icon: 'error',
            title: 'คัดลอกล้มเหลว'
          })
        })
      })

      if (liff.isInClient() || liff.getContext().type == 'square_chat') {
        $('.send-flex').off('click').click(function () {
          let button = $(this)
          let id = $(this).closest('.col-md-4').find('.delete-list').attr('id')
          let flextext = $(this).closest('.col-md-4').find('.show-json').find('p').text()

          let flex = JSON.parse(flextext)
          sendInChat(flex)
        })
      } else {
        $('.send-flex').hide()
      }
      $('.shared-flex').off('click').click(function () {
        let button = $(this)
        let id = $(this).closest('.col-md-4').find('.delete-list').attr('id')
        
        let flextext = $(this).closest('.col-md-4').find('.show-json').find('p').text()
        

        let flex = JSON.parse(flextext)
        sendShare(flex)
      })
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script
    src="https://cdn.jsdelivr.net/npm/gasparesganga-jquery-loading-overlay@2.1.7/dist/loadingoverlay.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</body>

</html>
